<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>test</title>
</head>

<body>

<div style="border:1px dashed #E6E6E6;margin:150px 0px 0px 450px; width:450px; height:300px; background-color:#E6E6E6;">
<table width="100%" height="169" border="0" align="left" cellpadding="0" cellspacing="0" style="margin:15px 0px 0px 15px;">
  <tr>
    <td width="126">
	<select style="width: 150px" name="first" size="10" multiple="multiple" class="td3" id="first">
		  <option value="test1">test1</option>
		  <option value="test2">test2</option>
		  <option value="test3">test3</option>
		  <option value="test4">test4</option>
		  <option value="test5">test5</option>
		  <option value="test6">test6</option>
		  <option value="test7">test7</option>
		  <option value="test8">test8</option>
		</select>    
	</td>
    <td width="69" valign="middle">
       <input name="add"  id="add" type="button" class="button" value="-->" /> 
       <input name="add_all" id="add_all"  type="button" class="button" value="==>" /> 
       <input name="remove"  id="remove" type="button" class="button" value="&lt;--" />
	   <input name="remove_all"  id="remove_all" type="button" class="button" value="&lt;==" />
        </td>
    <td width="127" align="left">
	  <select style="width: 150px" name="second" size="10" multiple="multiple" class="td3" id="second">
         <option value="test9">test9</option>
      </select>
	</td>
  </tr>
</table>
</div>
</body>
<script type="text/javascript">
window.onload = function(){
	document.getElementById("add").onclick = function(){
		var first = document.getElementById("first");
		var firstOptions = first.getElementsByTagName("option");
		var second = document.getElementById("second");
		for(var i=firstOptions.length-1;i>=0;i--){
			/**
			 * 判断左侧的select元素，是否被选中 
			 *   selectedIndex:返回被选中的option元素的数组下标（从0开始），
			 *        * 如果有多个被选中，它只显示第一个下标的索引值
			 *        * 如果没有被选中，则返回-1
			 *   
			 */
			//alert(first.selectedIndex);
			//说明左侧的option有被选中的值
			if(first.selectedIndex != -1){
				//将左侧选中的option移到右侧
				second.appendChild(firstOptions[first.selectedIndex]);
			}
		}
	}
	document.getElementById("remove").onclick = function(){
		var first = document.getElementById("first");
		var second = document.getElementById("second");
		var secondOptions = second.getElementsByTagName("option");
		for(var i=secondOptions.length-1;i>=0;i--){
			if(second.selectedIndex != -1){
				//将左侧选中的option移到右侧
				first.appendChild(secondOptions[second.selectedIndex]);
			}
		}
	}
	//将左侧全部的option（不管选中还是不选中）移动右侧<input name="add_all" id="add_all"  type="button" class="button" value="==>" /> 
	document.getElementById("add_all").onclick = function(){
		var first = document.getElementById("first");
		var firstOptions = first.getElementsByTagName("option");
		var second = document.getElementById("second");
		var len = firstOptions.length;
		for(var i=0;i<len;i++){
			//将左侧全部option移到右侧
			second.appendChild(firstOptions[0]);
		}
	}
	//同上
	document.getElementById("remove_all").onclick = function(){
		var first = document.getElementById("first");
		var second = document.getElementById("second");
		var secondOptions = second.getElementsByTagName("option");
		var len = secondOptions.length;
		for(var i=0;i<len;i++){
			//将左侧全部option移到右侧
			first.appendChild(secondOptions[0]);
		}
	}
}
  
</script>
</html>


